<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - AutoRevise</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="js/config.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>AutoRevise</span>
            </div>
            <div class="nav-links">
                <a href="dashboard-connected.html" class="nav-link active">Dashboard</a>
                <a href="mcq-practice.html" class="nav-link">
                    <i class="fas fa-brain"></i> MCQ Practice
                </a>
                <a href="achievements.html" class="nav-link">Achievements</a>
                <a href="admin-mcq-upload.html" class="nav-link" id="adminLink" style="display: none;">
                    <i class="fas fa-upload"></i> Admin
                </a>
            </div>
            <div class="nav-user">
                <span id="username">Loading...</span>
                <button class="logout-btn" onclick="handleLogout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard-container">
        <!-- Stats Section -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalDecks">-</h3>
                        <p>Total Decks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon cards">
                        <i class="fas fa-clone"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalCards">-</h3>
                        <p>Total Cards</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon due">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="cardsDue">-</h3>
                        <p>Cards Due Today</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon upcoming">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="cardsUpcoming">-</h3>
                        <p>Upcoming Reviews</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Study Now Section -->
        <section class="study-now-section" id="studyNowSection" style="display: none;">
            <div class="study-now-card">
                <div class="study-icon">
                    <i class="fas fa-book-reader"></i>
                </div>
                <div class="study-content">
                    <h2>Ready to Study?</h2>
                    <p>You have <strong id="dueCount">0</strong> cards due for review today!</p>
                </div>
                <button class="study-btn" onclick="startStudy()">
                    <i class="fas fa-play"></i>
                    Start Study Session
                </button>
            </div>
        </section>

        <!-- Decks Section -->
        <section class="decks-section">
            <div class="section-header">
                <h2>My Decks</h2>
                <button class="add-deck-btn" onclick="openCreateDeckModal()">
                    <i class="fas fa-plus"></i>
                    Create Deck
                </button>
            </div>

            <div id="decksContainer" class="decks-grid">
                <!-- Loading state -->
                <div class="loading-state" id="loadingState">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading your decks...</p>
                </div>

                <!-- Empty state -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <i class="fas fa-folder-open"></i>
                    <h3>No decks yet</h3>
                    <p>Create your first deck to start learning!</p>
                    <button class="btn-primary" onclick="openCreateDeckModal()">
                        <i class="fas fa-plus"></i>
                        Create Your First Deck
                    </button>
                </div>

                <!-- Decks will be loaded here -->
            </div>
        </section>
    </main>

    <!-- Create Deck Modal -->
    <div class="modal" id="createDeckModal">
        <div class="modal-overlay" onclick="closeCreateDeckModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Deck</h2>
                <button class="modal-close" onclick="closeCreateDeckModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="createDeckForm">
                    <div class="form-group">
                        <label for="deckName">
                            <i class="fas fa-heading"></i>
                            Deck Name
                        </label>
                        <input 
                            type="text" 
                            id="deckName" 
                            required 
                            placeholder="e.g., JavaScript Fundamentals"
                        >
                    </div>
                    <div class="form-group">
                        <label for="deckDescription">
                            <i class="fas fa-align-left"></i>
                            Description (Optional)
                        </label>
                        <textarea 
                            id="deckDescription" 
                            rows="3" 
                            placeholder="Brief description of this deck..."
                        ></textarea>
                    </div>
                    <div id="createDeckError" class="error-message" style="display: none;"></div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeCreateDeckModal()">
                            Cancel
                        </button>
                        <button type="submit" class="btn-primary" id="createDeckBtn">
                            <i class="fas fa-plus"></i>
                            Create Deck
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/api-app1.js"></script>
    <script src="js/dashboard-connected.js"></script>
</body>
</html>
